<div class="card">
  <div class="card-header text-black">
    <h1 class="card-title text-center">Inscription</h1>
  </div>
  <div class="card-body">
    <form [formGroup]="signUpForm" (ngSubmit)="onSubmitForm()">
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="ipp" class="form-label">IPP</label>
          <input type="text" class="form-control" formControlName="ipp" placeholder="Identifiant Permanant du Patient" (focusout)="checkIPP()">
        </div>
        <div class="form-group col-md-6">
          <label for="cin" class="form-label">CIN du patient</label>
          <input type="text" id="cin" class="form-control" formControlName="cin" placeholder="cin du patient" (focusout)="check('cin')">
          <div class="alert-danger" *ngIf="cinError">CIN existe deja</div>
        </div>
        <div class="form-group col-md-4">
          <label for="nom">Nom</label><span id="o"> * </span>
          <input type="text" class="form-control" formControlName="nom" placeholder="nom du patient">
        </div>
        <div class="form-group col-md-4">
          <label for="prenom">Prenom</label><span id="o"> * </span>
          <input type="text" class="form-control" formControlName="prenom" placeholder="prenom du patient">
        </div>
        <div class="form-group col-md-4">
          <label for="email">Email</label><span id="o"> * </span>
          <input type="email" class="form-control" formControlName="email" placeholder="l'email du patient" (focusout)="check('email')">
          <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert-danger">Format d'email est invalide</div>
          <div class="alert-danger" *ngIf="emailError">Ce email existe deja</div>
        </div>
        <div class="form-group col-md-4">
          <label for="ville">Ville</label><span id="o"> * </span>
          <select name="ville" class="form-control" id="ville" formControlName="ville">
            <option *ngFor="let v of villes" [ngValue]="v">{{v}}</option>
          </select>
        </div>
        <div class="form-group col-md-8">
          <label for="adresse">Adresse</label><span id="o"> * </span>
          <input type="text" class="form-control" formControlName="adresse" placeholder="Adresse du patient ..">
        </div>
        <div class="form-group col-md-4">
          <label for="numeroTelephone">Telephone</label><span id="o"> * </span>
          <input type="text" class="form-control" formControlName="phone" placeholder="06..." (focusout)="check('phone')">
          <div class="alert-danger" *ngIf="phoneError">Ce numero de telephone existe deja</div>
        </div>
        <div class="form-group col-md-4">
          <label for="password">mot de passe</label><span id="o"> * </span>
          <input type="password" class="form-control" formControlName="password" placeholder="Mot de passe">
        </div>
        <div class="form-group col-md-4">
          <label for="passwordConfirm" class="form-label">Retapez votre mot de passe</label><span id="o"> * </span>
          <input type="password" id="passwordConfirm" class="form-control" formControlName="passwordConfirm" placeholder="Mot de passe" (focusout)="checkPassword()">
          <div class="alert-danger" *ngIf="!mismatchPassword">
            Les mots de passes sont pas les memes
          </div>
        </div>
        <div class="form-group col-md-8">
          <div class="custom-file">
            <label class="custom-file-label" for="cinUploaded" id='labelFile'>Selectionner votre cin</label>
            <input type="file"class="custom-file-input" name="cinUploaded" id="cinUploaded" formControlName="cinUploaded" (change)="onUploadCin($event)">
          </div>
        </div>
      </div>
      <div class="buttons" style="display: block;">
        <button class="btn btn-primary" type="submit" [disabled]="signUpForm.invalid || checkAll() === false">
          Valider
        </button>
        <button class="btn btn-secondary" routerLink="..">Retour</button>
      </div>
    </form>
  </div>
</div>
